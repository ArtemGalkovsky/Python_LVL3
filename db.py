from sqlite3 import Connection, Cursor, connect
from json import loads, dumps


class DataBases:
    CONNECTION: Connection = connect("nature_reserves.db", check_same_thread=False)
    CURSOR: Cursor = CONNECTION.cursor()

    def __init__(self):
        self.nature_reserves = self.NatureReserves()

    def __del__(self):
        self.CONNECTION.close()

    class NatureReserves:
        def __init__(self):
            self.create_tables()

        @staticmethod
        def create_tables():
            DataBases.CURSOR.execute("""CREATE TABLE IF NOT EXISTS Reserves (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT,
            preview TEXT,
            paragraphs TEXT,
            images TEXT
            )""")

            DataBases.CONNECTION.commit()

        @staticmethod
        def add_reserve(name: str, preview: list, paragraphs: list, images: list):
            DataBases.CURSOR.execute("""INSERT INTO Reserves VALUES (null, ?, ?, ?, ?)""",
                                     (name, dumps(preview, ensure_ascii=False),
                                      dumps(paragraphs, ensure_ascii=False),
                                      dumps(images, ensure_ascii=False)))
            DataBases.CONNECTION.commit()

        @staticmethod
        def get_reserve_data_by_name(name: str):
            DataBases.CURSOR.execute("""SELECT * FROM Reserves WHERE name = ?""",
                                     (name,))
            formated_data = []

            data = DataBases.CURSOR.fetchone()

            formated_data.append(data[0])
            formated_data.append(data[1])
            formated_data.append(loads(data[2]))
            formated_data.append(loads(data[3]))
            formated_data.append(loads(data[4]))

            return formated_data

        @staticmethod
        def get_all_names():
            DataBases.CURSOR.execute("""SELECT name FROM Reserves""")

            return [data[0] for data in DataBases.CURSOR.fetchall()]


databases = DataBases()
__all__ = ["databases"]

if __name__ == '__main__':
    r = databases.nature_reserves

    r.add_reserve("Беловежская пуща", ["Реликтовый лес, один из старейших сохранившихся в Европе, редкие виды флоры и фауны и, к слову, самая большая популяция зубров – неспроста этот национальный парк республики находится под опекой ЮНЕСКО и входит в Список Всемирного наследия человечества. Здесь располагались стоянки древних времен, охотились князья Великого княжества Литовского и царская семья Российской империи… История Беловежской пущи как заповедной зоны началась в 1939 году, а в 1991-м эта территория обрела новый статус – Национальный парк РБ, что позволило сохранить и защитить её природное многообразие. Это действительно уникальная природная, культурная и историческая достопримечательность, объект научных исследований – здесь растут деревья, которым более 500 лет, есть уголки, которые не видели человека, сохранились болота и исчезающие виды растений, обитает огромное количество редких животных, птиц и насекомых."], ["Украшение пущи – реки и искусственные водохранилища. На линии водораздела Чёрного и Балтийского морей располагается уникальный ландшафтный комплекс – Выгонощанский: болота, озёра, являющиеся частью «Ясельдинского моря», 300-летние карликовые деревья.", "Попасть в Беловежскую пущу может любой желающий – пожалуй, это самое популярное направление для иностранных туристов, которые выбирают экскурсии по Беларуси. В национальном парке разработаны многочисленные маршруты: пешеходные; велосипедные; автомобильные и автобусные. Гиды проводят обзорные экскурсии: по пуще, музею природы; экскурсионным вольерам; археологическому музею под открытым небом; резиденции Деда Мороза. Туристам предлагают различные варианты для размещения: гостиничный комплекс «Каменюки»; гостиничный комплекс «Жарковщина»; гостиница №2; гостиница «Выгоновское»; гостевой дом охотника «Переров»; агроусадьба «Беловежское поместье»; агроусадьба «Домик в пуще»; агроусадьба «Царская»; места отдыха «Плянта» и «Лавы»; гостевые комнаты на территории лесничеств. Чтобы добраться до Беловежской пущи, выставляйте в навигаторе точку: Брестская область, Каменецкий район, аг. Каменюки."], ['/files/img/Беловежская пуща/1.jpg', '/files/img/Беловежская пуща/2.jpg', '/files/img/Беловежская пуща/3.jpg', '/files/img/Беловежская пуща/4.jpg'])
    r.add_reserve("Березинский биосферный заповедник", ["Уникальное, потрясающей красоты место, биосферный заповедник находится под опекой ЮНЕСКО. Здесь в первозданном виде сохранились болота (около 10 видов), густые дикие леса, луга, живописные реки и озёра, обитают зубры, лоси, волки, бурые медведи (1/3 всей белорусской популяции) и рыси. А через озеро Плавно, расположившееся в сердце заповедника, проходит водный путь от Чёрного к Балтийскому морю. Да-да, здесь пролегал путь «из варяг в греки» – по Березинской водной системе торговцы переправляли свои товары в порты Европы. А имя национальный заповедник получил по названию реки Березина, которая здесь берёт свое начало."], ["Природный ландшафт этого заповедника Беларуси начал формироваться тысячи лет назад, и сегодня можно увидеть этот уголок первозданной природы. Хотя статус заповедника эти территории получили лишь в 1925 году в связи с необходимостью сохранения популяции речных бобров, которых в те времена практически полностью истребили ради меха. Здесь запретили охотиться и рыбачить, возделывать землю и заготавливать лес, проводили научные исследования и наблюдения.", "Во время войны национальный заповедник, ставший базой партизанского движения, сильно пострадал: были уничтожены документы, разрушен музей и все здания на его территории, уничтожена ферма бобров, питомник лосей. И лишь в конце 1950-х началась серьёзная работа по восстановлению белорусского заповедника.", "Сегодня Березинский биосферный заповедник – потрясающее туристическое место, где разработана хорошая инфраструктура, позволяющая с комфортом изучить частичку дикой природы. Здесь работают музеи, туристический центр, гиды-экскурсоводы, проводники, готовые сопроводить туристов по одному из эко-маршрутов, есть возможность арендовать снаряжение и инвентарь. Варианты эко-маршрутов: пешие (экстремальный «Люди на болоте», «Каменная плита», «По лесной заповедной тропе», «Тропа открытий»); велосипедные (2-дневный «Экотуризм на колёсах», «Сергучский канал – часть водного пути «Из варяг в греки»); байдарочные («Секреты заповедных озёр», «По реке Березине»); комбинированные; конные; лыжные.", "На экскурсиях в заповедник туристы знакомятся с природой этих чудесных мест, наблюдают за животными, птицами, насекомыми. С обзорной вышки могут увидеть бескрайние болота, побывать на тетеревином токе, на метеорологической станции, посетить Музей природы, зверинец, отправиться на ночную экскурсию по тропе мифов (здесь создали Центр мифологии), сходить в Музей мёда. Где можно остановиться в сердце белорусского заповедника: гостиничный комплекс «Плавно»; гостиничный комплекс «Сургуч»; туристический комплекс «Нивки»; гостевые домики «Плавно», «Ольшица», «Береще», «Заречное», «Домжерицкое озеро», «Палик»; загородный комплекс «Кордон Долгое»; пансионат «ЛОДЭ».   Где находится Березинский биосферный заповедник? Выставляйте в навигаторе точку: посёлок Дожмерицы, ул. Центральная, 3."], ['/files/img/1Березинский биосферный заповедник/1.jpg', '/files/img/1Березинский биосферный заповедник/2.jpg', '/files/img/1Березинский биосферный заповедник/3.jpg', '/files/img/1Березинский биосферный заповедник/4.jpg'])
    r.add_reserve("Национальный парк «Браславские озёра»", ["Синеокая Беларусь – особенно актуально это «второе имя» нашей страны звучит здесь, в нацпарке «Браславский озёра». 267 озёр, 20 рек – уникальный ландшафт, живописные острова, курганы. Самое глубокое озеро – Волосо Южное, 40 м, самое большое – Дривяты, 36 кв. м. Самое интересное – Струсто, на нём располагается несколько островов, а на самом большом из них располагается ещё одно озеро, внутреннее. В озёрах обитает 34 вида рыб. Раньше в лесах здесь водились зубры и тарпаны, но из-за климатических изменений животные ушли с этих территорий.Зато сейчас возобновилась популяция благородного оленя."], ["Уникален в национальном парке и растительный мир, порядка 20 видов растений – из Красной книги. Туристам в Национальном парке «Браславский озёра» предлагают большое количество маршрутов, пешеходных и велосипедных: экотропа «Гора Маяк»; экотропа «Слободковская озовая гряда»; экотропа «Парк Бельмонт»; туристический маршрут «Турбазовский рог»; маршрут «Истрический» (35 км по территории нацпарка); маршрут «Веселый велосипед» (21 км по центральной части нацпарка); маршрут «Вокруг озера» (60 км вокруг «Браславский озёр». С 1 июня возобновляет свою работу сафари-парк «Мекяны», где есть возможность прогулки по вольерам, наблюдение за животными с обзорных вышек. Водные маршруты: «Шесть озёр» (21 км); «Браславская кругосветка» (95 км); «Лазурный» (28 км); «Жемчужина» (42 км).", "Туристам предлагают в аренду велосипеды, лодки, байдарки, катамараны, необходимое снаряжение, организацию рыбалки, охотничьих туров. Возможностей для отдыха и остановки в нацпарке – огромное количество, в том числе 77 турстоянок. В том числе, четыре базы отдыха, агроусадьбы и загородные комплексы. Среди них: база отдыха «Дривяты», база отдыха«Леошки», база отдыха «Золово», база отдыха «Слободка», эко-клуб «Три Медведя», хутор «Мустанг», агроэкоусадьба «Хутор Ёдишки». Отдел туризма Национального парка «Браславские озёра» располагается в Браславе, ул. Дачная, 1. Здесь помогут спланировать путешествие по этому удивительному озёрному краю"], ['/files/img/Национальный парк Браславские озёра/1.jpg', '/files/img/Национальный парк Браславские озёра/2.jpg', '/files/img/Национальный парк Браславские озёра/3.jpg'])
    r.add_reserve("Республиканский ландшафтный заказник «Ельня»", ["На территории республиканского заказника располагаются два крупнейших болота – Ельня (площадь 200 кв. км, а возраст более 9 тысяч лет) и Чёрное, более сотни озёр, берут исток пять рек, а площадь всего заказника более 25 тысяч га."], ["На его территории во время миграции делают остановку десятки тысяч птиц, за которыми, к слову, могут наблюдать туристы, а в период апрель-начало июня ещё и увидеть тетеревиный ток. В республиканском заказнике «Ельня» оборудована самая большая экологическая тропа с деревянным настилом – 2,5 км, называется она «Озеравки-Ельня». Кроме того, по болоту можно прогуляться в болотоступах и проехать на настоящем болотоходе. Все необходимое оборудование и снаряжение предоставляют в аренду здесь, на месте. Здесь же можно заказать экскурсию и договориться о сопровождении гида по туристическим маршрутам. Очень популярны в республиканском заказнике пешеходные маршруты, рассчитанные по своей протяженности на 1-2 дня: «Таборы» (от д. Бумы, протяжённостью 8 км); «Курганистое»: (от д. Суховержье, протяжённостью 12 км); «Еленский остров» (от д. Кушняры, протяжённостью 16 км); «Лопухи»: (от д. Конахи, протяжённостью 14 км).", "Чтобы преодолеть большую дистанцию и увидеть ещё больше живописных мест, и наверняка встретиться с их обитателями (животные заказника не опасны, но инструктаж пройти стоит), туристам предлагают велосипедные маршруты: «Таборы» (от Миор до экотропы «Озеравки-Ельня, протяжённостью 14 км); «Ельнянская кругосветка» (от Миор до д. Чересы, протяжённостью 166 км); «Зелёные» (от Миор до озера Курганистое, протяжённостью 23 км). Начать путешествие лучше с посещения экологического центра «Ельни» в Миорах по адресу ул. Кирова, 4А. Здесь можно получить всю необходимую информацию о маршрутах, инструкции по их прохождению, точные координаты остановок и туристических стоянок, встретиться с проводником и побывать на экскурсии, где расскажут об истории, биологическом разнообразии национального заказника.", "Читайте подробнее в источнике – https://bestbelarus.by/info/blog/nature-sights-of-belarus-national-parks-and-reserves/. При копировании материалов с онлайн-путеводителя обязательна активная гиперссылка на bestbelarus.by"], ['/files/img/Республиканский ландшафтный заказник Ельня/1.jpg', '/files/img/Республиканский ландшафтный заказник Ельня/2.jpg', '/files/img/Республиканский ландшафтный заказник Ельня/3.jpg'])
    r.add_reserve("Налибокская пуща", ["Налибокская пуща – самый большой лесной массив Беларуси, по территории которого протекает семь рек, а жемчужиной его украшающей является озеро Кромань. Вообще, национальный заказник уникален своей непроходимостью, во многие его уголки не ступала нога человека, потому здесь живут в естественной среде своего обитания редкие животные и птицы. Здесь удивительно красиво, чистейший воздух, шум деревьев и пение птиц, никакого намёка на цивилизацию – и всё это в 65 км от Минска."], [], ['/files/img/Налибокская пуща/1.jpg', '/files/img/Налибокская пуща/2.jpg', '/files/img/Налибокская пуща/3.jpg'])
    r.add_reserve("Национальный парк «Нарочанский»", ["Своё название Национальный парк получил по имени самого большого озера Беларуси.", "Но кроме Нарочи, на территории нацпарка расположились ещё более 40 удивительной красоты озёр, густые леса с редкими видами растений и животных, реки, минеральные источники.", "35 видов рыб, 314 – позвоночных, 218 – птиц (51 из них внесены в Красную книгу), 1400 видов растений. В начале прошлого века здесь был респектабельный район для отдыха, в 1950-х обнаружили источники минеральных вод и сапропелевых грязей и организовали курортно-лечебную зону, построили санатории и оздоровительные центры (отдых в Беларуси стал очень привлекательным для многих), а в 1999-м учредили национальный парк для сохранения природного богатства региона, ландшафта и биоразнообразия. «Нарочанский» интересен и с точки зрения невероятно живописной и уникальной природы, исторических достопримечательностей и культурных объектов."], ["Здесь организованы туристические стоянки (всего 16), разработано более 30 экскурсионных маршрутов, пешие, водные, велосипедные, чтобы увидеть достопримечательности Национального парка, есть условия для занятий дайвингом, рыбалкой и охотой. Экологические тропы: Голубые озёра (4 и 7 км); полуостров Черевки (Парк редких растений). Есть большое количество обзорных точек, откуда открывается потрясающий вид на озёра, ландшафт нацпарка, среди них: д. Никольцы (площадка памятника-стелы); д. Симоны (берег озера); д. Слуки; полуостров Дубовое; холм в д. Кочерги. Экскурсии: дендросад; Музей леса; путешествие в природу (по экотропе «Голубые озёра); «Страницы каменной летописи» (экскурсия по Мядельскому краю на автобусе); «Белорусская святыня» (Будслав). Остановится на ночлег или на несколько дней в Национальном парке «Нарочанский» можно в очень разных форматах – и с палатками на турстоянке и в комфортной гостинице, усадьбе и даже санатории. Так, нацпарк предлагает: гостиничный комплекс «Нарочь»; гостевые коттеджи; санаторий «Спутник»; санаторий «Приозёрный»; санаторий «Сосны». Координатами для Национального парка «Нарочанский» можно выбрать кп. Нарочь, ул. Ленинская, 11 (Национальный парк легко найти на карте). Здесь находится отдел туризма, к которому можно обратиться за помощью в организации тура. Заказники Беларуси Заказников республиканского значения в Беларуси – 99, местного – 428."], ['/files/img/Национальный парк Нарочанский/1.jpg', '/files/img/Национальный парк Нарочанский/2.jpg', '/files/img/Национальный парк Нарочанский/3.jpg'])
    r.add_reserve("Полесский государственный заповедник", ["Территория этого заповедника огромна – 216,9 тысяч га. А история его возникновения печальна. В 1988 году, спустя два года после чернобыльской аварии, было решено создать заповедник в зоне отчуждения. Цель – остановить всяческую хозяйственную деятельность человека на этой территории, проводить радиологические исследования, изучать процессы развития природных комплексов, увеличивать популяцию животных и птиц. Зона отчуждения Чернобыльской АЭС до сих пор считается потенциально опасной, потому попасть сюда можно лишь на ограниченное время по пропускам, пройдя специальный инструктаж. Излучение на территории государственного заповедника имеет референтные значения, потому никакой дополнительной радиационной защиты туристам не требуется, но на выходе из зоны производится обязательный дозиметрический контроль."], ["В Полесском государственном радиационно-экологическом заповеднике предлагают туристам семь возможных вариантов маршрутов (одно-, двух- и трёхдневные), на которых можно увидеть заброшенные деревни, поселки, предприятия, фермы, дома культуры и школы, речную переправу, объекты, связанные с историей Великой отечественной войны, природные объекты.", "Конечно же, отсутствие деятельности человека на этих территориях дало возможность природе вступить в свои права – здесь растут исчезающие виды растений, обитают порядка 40 видов исчезающих животных, например, в числе животных заповедника – лошади Пржвальского, а ещё одна из многочисленных вольноживущих популяций зубра. Проживание на территории радиационного заповедника невозможно, потому выбирайте объекты поблизости: гостиница «Хойники» (Хойники); гостиница «Верас» (Брагин); усадьба «Панский сад»", "Чтобы попасть в Полесский государственный радиационно-экологический заповедник, необходимо заранее связаться с его администрацией и заполнить заявку на посещение. Адрес: Хойники, ул. Терешковой, 7."], ['/files/img/2Полесский государственный радиационно-экологический заповедник/1.jpg', '/files/img/2Полесский государственный радиационно-экологический заповедник/2.jpg', '/files/img/2Полесский государственный радиационно-экологический заповедник/3.jpg', '/files/img/2Полесский государственный радиационно-экологический заповедник/4.jpg'])
    r.add_reserve("«Национальный парк Припятский»", ["Большую часть территории национального парка занимают дремучие леса и болота, здесь протекает «белорусская Амазонка» и весной разливается Геродотово море. Живописные места белорусского Припятского Полесья распростерлись почти на 90 тысяч га и с 1969-го получили статус национального парка Беларуси."], [], ['/files/img/Национальный парк Припятский/1.jpg', '/files/img/Национальный парк Припятский/2.jpg', '/files/img/Национальный парк Припятский/3.jpg'])